# üîÑ Sirius Core - Workflow Guide

## üéØ TL;DR

**–†–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–∞—Ö –∫–∞–∫ –æ–±—ã—á–Ω–æ. –û–±–Ω–æ–≤–ª—è–µ—Ç–µ –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å "—Å–Ω–∏–º–æ–∫" –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.**

---

## üìã –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞

### –†–∞–±–æ—Ç–∞ –≤ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–µ (99% –≤—Ä–µ–º–µ–Ω–∏)

```bash
# –ó–∞—Ö–æ–¥–∏—Ç–µ –≤ –Ω—É–∂–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
cd einvoice-fastapi  # –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π

# –†–∞–±–æ—Ç–∞–µ—Ç–µ –∫–∞–∫ –æ–±—ã—á–Ω–æ
git checkout -b feature/new-feature
# ... –¥–µ–ª–∞–µ—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è ...
git add .
git commit -m "Add new feature"
git push origin feature/new-feature

# –ú–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ –ù–ï —Ç—Ä–æ–≥–∞–µ—Ç–µ!
```

**‚úÖ –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!** –ü–æ–¥–ø—Ä–æ–µ–∫—Ç—ã –∂–∏–≤—É—Ç —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é.

---

## üîÑ –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd /Users/avopilov/Documents/GitHub/sirius/sirius-core

# –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ submodules –¥–æ latest main
git submodule update --remote --merge

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
git status
git diff

# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –Ω–æ–≤—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏
git add .
git commit -m "Weekly sync: Update all submodules to latest"
git push
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–µ–ª–∏–∑ / –í–∞–∂–Ω–∞—è –≤–µ—Ö–∞

```bash
cd /Users/avopilov/Documents/GitHub/sirius/sirius-core

# –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –¥–æ latest
git submodule update --remote --merge

# –ò–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
cd einvoice-fastapi
git pull origin main
cd ..

git add einvoice-fastapi
git commit -m "Release v2.5.0: Update backend to stable version"
git push
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

–ö–æ–≥–¥–∞ –º–µ–Ω—è–µ—Ç–µ API –≤ backend –∏ frontend –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:

```bash
# 1. –î–µ–ª–∞–µ—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ backend
cd einvoice-fastapi
git checkout -b feature/new-api
# ... –∏–∑–º–µ–Ω–µ–Ω–∏—è ...
git commit -m "Add new API endpoint"
git push

# 2. –î–µ–ª–∞–µ—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ frontend
cd ../einvoice2-nuxt3
git checkout -b feature/use-new-api
# ... –∏–∑–º–µ–Ω–µ–Ω–∏—è ...
git commit -m "Use new API endpoint"
git push

# 3. –û–±–Ω–æ–≤–ª—è–µ—Ç–µ –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ –¥–ª—è —Å–≤—è–∑–∏
cd ..
git add einvoice-fastapi einvoice2-nuxt3
git commit -m "Feature: New API endpoint (backend + frontend)"
git push
```

---

## üÜï –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ü–µ—Ä–≤—ã–π —Ä–∞–∑ –∫–ª–æ–Ω–∏—Ä—É–µ—Ç–µ:

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å submodules
git clone --recursive https://github.com/Sirius-SRL/sirius-core.git
cd sirius-core

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ submodules –Ω–∞ –º–µ—Å—Ç–µ
git submodule status
```

### –ï—Å–ª–∏ –∑–∞–±—ã–ª–∏ --recursive:

```bash
git clone https://github.com/Sirius-SRL/sirius-core.git
cd sirius-core

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å submodules
git submodule update --init --recursive
```

---

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö submodules

```bash
git submodule status
```

–í—ã–≤–æ–¥:
- ` ` (–ø—Ä–æ–±–µ–ª) - submodule –Ω–∞ —Ç–æ–º –∂–µ –∫–æ–º–º–∏—Ç–µ, —á—Ç–æ –≤ –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ
- `+` - submodule –Ω–∞ –±–æ–ª–µ–µ –Ω–æ–≤–æ–º –∫–æ–º–º–∏—Ç–µ (–ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- `-` - submodule –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

### –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ submodules –¥–æ latest

```bash
git submodule update --remote --merge
```

### –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π submodule

```bash
git submodule update --remote --merge einvoice-fastapi
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫–∏–µ –∫–æ–º–º–∏—Ç—ã –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –≤ submodules

```bash
git diff --submodule
```

### –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤–æ –≤—Å–µ—Ö submodules

```bash
git submodule foreach 'git status'
git submodule foreach 'git pull origin main'
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ DO (–î–µ–ª–∞–π—Ç–µ —Ç–∞–∫):

1. **–†–∞–±–æ—Ç–∞–π—Ç–µ –≤ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–∞—Ö –Ω–∞–ø—Ä—è–º—É—é** - –∑–∞—Ö–æ–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –∫–∞–∫ —Å –æ–±—ã—á–Ω—ã–º git —Ä–µ–ø–æ
2. **–ü—É—à—å—Ç–µ –≤ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç—ã —á–∞—Å—Ç–æ** - –∫–∞–∫ –æ–±—ã—á–Ω–æ
3. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏** - —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é –∏–ª–∏ –ø—Ä–∏ –≤–∞–∂–Ω—ã—Ö –≤–µ—Ö–∞—Ö
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã** –≤ –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ: "Release v2.0", "Sync before deployment"
5. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Å --recursive** –≤—Å–µ–≥–¥–∞

### ‚ùå DON'T (–ù–µ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫):

1. **–ù–µ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–º–∏—Ç–∞** –≤ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–µ - —ç—Ç–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ
2. **–ù–µ –¥–µ–ª–∞–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–∞—Ö —á–µ—Ä–µ–∑ –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ** - –∑–∞—Ö–æ–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–∞
3. **–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—É—à–∏—Ç—å –≤ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç** –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ
4. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `git add .`** –≤ –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ - –º–æ–∂–µ—Ç–µ —Å–ª—É—á–∞–π–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ —Ç–æ

---

## üö® Troubleshooting

### Submodule –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–æ –≤—ã –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–ª–∏

```bash
cd –ø—Ä–æ–±–ª–µ–º–Ω—ã–π-submodule
git status
git log -1

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –∫–æ–º–º–∏—Ç –∏–∑ –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ
cd ..
git submodule update --init
```

### –ó–∞–±—ã–ª–∏ –∑–∞–ø—É—à–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ submodule

```bash
cd einvoice-fastapi
git push  # –°–Ω–∞—á–∞–ª–∞ –ø—É—à–∏–º submodule

cd ..
git add einvoice-fastapi
git commit -m "Update submodule reference"
git push  # –ü–æ—Ç–æ–º –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ
```

### –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ submodule

```bash
cd –ø—Ä–æ–±–ª–µ–º–Ω—ã–π-submodule
git status
# –†–µ—à–∞–µ—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ
git add .
git commit
git push

cd ..
git add –ø—Ä–æ–±–ª–µ–º–Ω—ã–π-submodule
git commit -m "Resolve submodule conflict"
git push
```

---

## üìä –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

| –°–∏—Ç—É–∞—Ü–∏—è | –ì–¥–µ —Ä–∞–±–æ—Ç–∞—Ç—å | –û–±–Ω–æ–≤–ª—è—Ç—å –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ? |
|----------|--------------|------------------------|
| –§–∏–∫—Å –±–∞–≥–∞ –≤ backend | `einvoice-fastapi/` | ‚ùå –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| –ù–æ–≤–∞—è —Ñ–∏—á–∞ –≤ frontend | `einvoice2-nuxt3/` | ‚ùå –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| –ö–æ–Ω–µ—Ü –Ω–µ–¥–µ–ª–∏ | - | ‚úÖ –î–∞, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è |
| –†–µ–ª–∏–∑ –≤–µ—Ä—Å–∏–∏ | –í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã | ‚úÖ –î–∞, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| API –∏–∑–º–µ–Ω–µ–Ω–∏—è (backend + frontend) | –û–±–∞ –ø—Ä–æ–µ–∫—Ç–∞ | ‚úÖ –î–∞, –¥–ª—è —Å–≤—è–∑–∏ |
| Hotfix –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ | –ù—É–∂–Ω—ã–π –ø—Ä–æ–µ–∫—Ç | ‚úÖ –î–∞, –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è |

---

## üí° –§–∏–ª–æ—Å–æ—Ñ–∏—è

**–ú–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ = "–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏"**

- –ü–æ–¥–ø—Ä–æ–µ–∫—Ç—ã = –≥–ª–∞–≤—ã –∫–Ω–∏–≥–∏ (–∂–∏–≤—É—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ)
- –ú–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ = –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–∏–µ –≤–µ—Ä—Å–∏–∏ –≥–ª–∞–≤ —Å–µ–π—á–∞—Å –∞–∫—Ç—É–∞–ª—å–Ω—ã)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ = –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—è

**–í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –≥–ª–∞–≤—ã (–ø–æ–¥–ø—Ä–æ–µ–∫—Ç—ã) —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ, –Ω–µ —Ç—Ä–æ–≥–∞—è –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ (–º–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ).**

**–û–±–Ω–æ–≤–ª—è–µ—Ç–µ –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ö–æ—Ç–∏—Ç–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å "—ç—Ç–æ —Ç–µ–∫—É—â–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤—Å–µ–π –∫–Ω–∏–≥–∏".**

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–ú–∞—Å—Ç–µ—Ä-—Ä–µ–ø–æ**: https://github.com/Sirius-SRL/sirius-core
- **Backend**: https://github.com/Sirius-SRL/einvoice-fastapi
- **Frontend**: https://github.com/Sirius-SRL/einvoice2-nuxt3
- **PDF Generator**: https://github.com/Sirius-SRL/pdf-generator
- **PDF Templating**: https://github.com/Sirius-SRL/pdf-templating
- **Translations**: https://github.com/Sirius-SRL/translations-to-sheet

---

**–í–æ–ø—Ä–æ—Å—ã?** –ü—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∞–π—Ç–µ –≤ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–∞—Ö –∫–∞–∫ –æ–±—ã—á–Ω–æ! üöÄ

